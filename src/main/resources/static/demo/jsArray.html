<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="/static/js/jquery.1.9.1.min.js"></script>
<script src="/static/js/common.js"></script>
<body>

    <h1>JS数组测试</h1>
<script>
    var str = "asdgfsdrhtrwagfdhafgdgerqasfsdgahgrte";
    //求每个字符出现的次数，写的编译器都识别不了了
    var con = str.split("").reduce((x,y)=>((x[y]++) || (x[y]=1),x) ,{});
    console.log(con);

    var arrStr = ['123','234','567'];
/*    ajaxPost({"ids": arrStr}, "/hello/arrayParam", function (result) {
        console.log(result)
    });*/
    var postData = {"ids": ["124","3245"]};
    var postArray = new Array();
    postArray.push("123");
    postArray.push("1234");

/*    ajaxPost(JSON.stringify(postArray), "/hello/arrayParam2", function (result) {
        console.log(result)
    });*/

    var postArray3 = new Array();
    postArray3.push({"ids":"1234"});
    postArray3.push({"ids":"3256"});
/*    ajaxPost(JSON.stringify({"name": "小三", "ids": postArray}), "/hello/arrayParam3", function (result) {
        console.log(result)
    });*/
    var postArray4 = new Array();
    postArray4.push({"ids":"1234"});
    postArray4.push({"ids":"3256"});
    var formData = new FormData();
    formData.append("name","小三");
    formData.append("ids", arrStr);
/*    ajaxFormPost(formData, "/hello/arrayParam4", function (result) {
        console.log(result)
    });*/
/*    ajaxPost({"name":"小三"}, "/hello/arrayParam4", function (result) {
        console.log(result)
    });*/

    var postData5 = {"name":"消散","age":"23"};
    var studentList = new Array();
    for (var i = 0; i < 10; i++) {
        var student = {};
        student.id = i;
        student.name = "小明" + i;
        student.age = 20 + i;
        student.birth = "2011-11-11 11:11:11";
        studentList.push(student);
    }
    if (studentList.length > 0) {
        postData5.studentList = studentList;
    }
/*    ajaxPostJSON(JSON.stringify(postData5), "/hello/arrayParam5", function (result) {
        console.log(result)
    })*/

    var postData6 = {"name":"消散","age":"23"};
    var studentList2 = [];
    for (var j = 0; j < 10; j++) {
        /**
         * JQuery 会将你的参数映射成这样：
         * beans[0][agreementId]=1
         beans[0][answerId]=2

         问题是Spring MVC需要这种的参数格式：
         beans[0].agreementId=1
         beans[0].answerId=2

         * @type {{}}
         */
        var student = {};
        student.id = j;
        student.name = "小明" + j;
        student.age = 20 + j;
        student.birth = "2011-11-11 11:11:11";
        //studentList2.push(student);
        var d = new Date('2011-11-11 11:11:11');
        postData6['studentList[' + j +'].id'] = j;
        postData6['studentList[' + j +'].name'] = "小明" + j;
        postData6['studentList[' + j +'].age'] = 20 + j;
        postData6['studentList[' + j +'].birth'] = "2011-11-11 11:11:11";
    }
    if (studentList2.length > 0) {
        //postData6.studentList = studentList2;
    }
    ajaxPost(postData6, "/hello/arrayParam6", function (result) {
        console.log(result)
    })


</script>

</body>
</html>